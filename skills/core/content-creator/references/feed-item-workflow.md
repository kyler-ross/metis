---
name: feed-item-workflow
description: Resource file for content-creator agent
type: resource
---

# Feed Item Creation Workflow

## STEP 1: Analyze & Suggest (Show Preview)

When given an article URL or topic:

1. **Visit URL** using browser tools
2. **Analyze:**
   - Topic and key takeaways
   - Target audience (general users, specific segment)
   - Quality and trustworthiness of source
   - Length and accessibility

3. **Suggest feed item + content strategy**

Output this preview:

```markdown
## ðŸ“‹ Content Proposal

### Feed Item

**Header:** [3-7 word catchy title]
**Body:** [1-2 sentences, max 120 chars]
**Button Text:** [Action verb, 2-3 words]
**Destination:** [URL::blog-url or IN_APP::feature]
**Category:** [SPAM / PRIVACY / SAFETY]
**Trigger:** [When to show - e.g., DD_ENABLED]
**Priority:** [10-50]
**ID:** [auto-generated from header]

**Rationale:** [Why this category/trigger/priority?]

---

### Content Strategy

**Option A: Create Cloaked Blog Article**
- Why: [Source too technical / too long / CTA opportunity]
- Article will be: ~[X] words, 6th grade level
- Screenshots: [X] from source
- CTA: [Cloaked feature]

**Option B: Link Directly to Source**
- Why: [Already concise / trusted source / perfect as-is]
- No blog needed
- Direct destination: URL::[source-url]

**Recommendation:** Option [A/B]

**Blog Article Summary** (if Option A):
- Title: [SEO headline]
- Key sections: [list 3-4 main sections]
- Approach: [How-to guide / scam alert / educational]
- Estimated length: ~[X] words

---

## ðŸ¤” Approve to Continue?

Review the feed item and content strategy above.

- Type "yes" or "approve" to create
- Provide feedback for changes
- Type "link only" to skip blog and link directly
```

**STOP and WAIT for user response.**

## STEP 2: After Approval - Create Content

Only proceed after user approves.

### If Creating Blog Article:

1. **Transform article** following these rules:
   - **Reading level:** 6th grade (Flesch-Kincaid 70-80)
   - **Tone:** Empowering, insider knowledge, not fear-based
   - **Images:** Extract real URLs from source (never guess)
   - **Structure:** Use appropriate template (how-to, scam alert, curated, advanced)
   - **CTA:** Match topic to Cloaked feature (see CTA Matrix in blog-content-writer)

2. **Generate 3D Glass Icon JSONs** for blog/feed images (NOT photorealistic prompts)

3. **Create Confluence page:**
   - cloudId: `e0c48326-d63b-455f-a056-0b08f4ca6a3d`
   - spaceId: `131328`
   - parentId: `864288777`
   - body: Complete markdown with metadata, 3D Glass JSONs, full article with inline images using ![alt](url) format, attribution after each image

4. **Verify completeness** - read back page, check for truncation, fix if needed

5. **Get blog URL:** Use Confluence page URL (will be replaced with final Webflow URL later)

### Write Feed Item to Spreadsheet

**Spreadsheet ID:** `188BvP1M-ftocWnfMKSaZUfFbqUmDuza2Q1Zr5iq1Fgs`
**Tab:** `Feed - Dev` (see .ai/knowledge/feed-system/GOOGLE-SHEETS-STRUCTURE.md for GID)

Append new row using google-sheets-api.js:

```bash
node .ai/scripts/google-sheets-api.js append SHEET_ID "'Feed - Dev'!B2" \
  '[[
    "dev",
    "[id]",
    "NOTIFICATION_NEWS",
    "[category]",
    "[header]",
    "[body]",
    "[button_text]",
    "[destination]",
    "",
    "",
    "",
    "30",
    "5",
    "[created_from]",
    "",
    "[parent_id or empty]",
    "",
    "",
    "",
    "[source URL for notes]"
  ]]'
```

**Column mapping:**
- B: Status = "dev"
- C: ID = lowercase_snake_case (e.g., "stop_app_tracking")
- D: Item Type = "NOTIFICATION_NEWS"
- E: Category
- F: Header
- G: Body
- H: Button Text
- I: Destination
- M: Priority = 30 (default for articles)
- N: Time to Complete = 5
- O: Created From trigger
- R: Parent ID (if dependent on another item)
- U: Notes = source URL

**Formula Note:** Column A (Details JSON) is auto-generated by formula in spreadsheet - never touch it.

## Return Instructions

```markdown
âœ… Content Created

## Feed Item

ðŸ“Š Spreadsheet: Row [X] added
ðŸ”— View: https://docs.google.com/spreadsheets/d/188BvP1M-ftocWnfMKSaZUfFbqUmDuza2Q1Zr5iq1Fgs/edit#gid=117906569

**Feed Item Details:**
- ID: [id]
- Header: [header]
- Trigger: [created_from]
- Destination: [destination]

**Django Admin Steps:**
1. Open Production Admin Panel
2. Go to: Activity Feed â†’ Feed Item Templates â†’ Add
3. Fill fields from spreadsheet row [X]
4. Copy JSON from column Q â†’ paste into "Details" field
5. Upload feed card image (generate using 3D Glass Icon JSON)
6. Save
7. Update spreadsheet Status to "dev" once deployed

## Blog Article (if created)

ðŸ“„ Confluence: https://yourcompany.atlassian.net/wiki/spaces/PM/pages/[ID]

Verification:
- âœ… [X] sections
- âœ… [X] screenshots
- âœ… 3D Glass Icon JSONs

**Webflow Publishing:**
1. Generate images from JSONs in Confluence
2. Review article
3. Publish to cloaked.com/blog/[slug]
4. Get final URL
5. Update feed item destination: URL::https://cloaked.com/blog/[slug]
6. Update in Django admin
7. Mark spreadsheet Status as "prod"
```
